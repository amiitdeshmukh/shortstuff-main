<style>
  .news-section-independent {
    background-color: {{ section.settings.background_color }};
    padding: {{ section.settings.section_padding_top }}px 0 {{ section.settings.section_padding_bottom }}px 0;
    position: relative;
    overflow: hidden;
    border-top-left-radius: {{ section.settings.section_border_radius_top }}px;
    border-top-right-radius: {{ section.settings.section_border_radius_top }}px;
    border-bottom-left-radius: {{ section.settings.section_border_radius_bottom }}px;
    border-bottom-right-radius: {{ section.settings.section_border_radius_bottom }}px;
  }

  .news-section-independent .news-container {
    max-width: 100%;
    width: 100%;
    margin: 0 auto;
    padding: 0;
    position: relative;
    z-index: 2;
  }

  .news-section-independent .static-decoration {
    position: absolute;
    top: {{ section.settings.decoration_top }}%;
    right: {{ section.settings.decoration_right }}%;
    width: {{ section.settings.decoration_size }}px;
    z-index: 1;
    opacity: 0.8;
  }

  .news-section-independent .news-header {
    text-align: center;
    margin-bottom: 30px;
    position: relative;
    padding: 0 40px;
  }

  .news-section-independent .news-title {
    font-size: {{ section.settings.title_size }}px;
    font-weight: bold;
    color: {{ section.settings.title_color }};
    margin: 0 0 1rem 0;
    line-height: 1.2;
  }

  .news-section-independent .news-curvy-line-icon {
    display: block;
    position: absolute;
    left: {{ section.settings.curvy_line_x_position }}%;
    transform: translateX(-50%);
    top: {{ section.settings.curvy_line_y_position }}px;
    width: {{ section.settings.curvy_line_size }}px;
    height: auto;
    z-index: 3;
  }

  .news-section-independent .news-description {
    font-size: {{ section.settings.description_size }}px;
    color: {{ section.settings.description_color }};
    line-height: 1.6;
    max-width: 600px;
    margin: 0 auto 1.5rem auto;
  }

  .news-section-independent .news-navigation-wrapper {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-bottom: 40px;
  }

  .news-section-independent .news-nav-btn {
    width: 50px;
    height: 50px;
    border: 2px solid {{ section.settings.nav_color }};
    border-radius: 50%;
    background: white;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 18px;
    color: {{ section.settings.nav_color }};
  }

  .news-section-independent .news-nav-btn:hover {
    background: {{ section.settings.nav_color }};
    color: white;
    transform: scale(1.1);
  }

  .news-section-independent .news-articles-container {
    overflow: hidden;
    position: relative;
    max-width: calc(4 * 320px + 3 * 32px); /* 1376px */
    margin: 0 auto;
    padding: 20px 0px 40px 0px;
  }

  .news-section-independent .news-articles-track {
    display: flex;
    gap: 32px;
    transition: transform 0.5s ease;
    cursor: grab;
    justify-content: flex-start;
  }

  .news-section-independent .news-articles-track:active {
    cursor: grabbing;
  }

  .news-section-independent .news-articles-track.dragging {
    transition: none;
  }

  .news-section-independent .news-article-card {
    background: white;
    border-radius: {{ section.settings.card_radius }}px;
    overflow: hidden;
    transition: all 0.3s ease;
    border: 2px solid {{ section.settings.border_color }};
    text-decoration: none;
    color: inherit;
    display: block;
    flex: 0 0 320px;
    width: 320px;
    min-width: 320px;
    max-width: 320px;
    position: relative;
    user-select: none;
  }

  .news-section-independent .news-article-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.12);
    text-decoration: none;
    color: inherit;
    z-index: 10;
  }

  .news-section-independent .news-article-image {
    width: 100%;
    height: 200px;
    object-fit: cover;
    transition: transform 0.3s ease;
    pointer-events: none;
  }

  .news-section-independent .news-article-card:hover .news-article-image {
    transform: scale(1.05);
  }

  .news-section-independent .news-article-content {
    padding: 20px;
  }

  .news-section-independent .news-article-date {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: {{ section.settings.date_size }}px;
    color: {{ section.settings.date_color }};
    margin-bottom: 12px;
  }

  .news-section-independent .news-date-icon {
    width: 16px;
    height: 16px;
    opacity: 0.7;
  }

  .news-section-independent .news-article-title {
    font-size: {{ section.settings.article_title_size }}px;
    font-weight: 600;
    color: {{ section.settings.article_title_color }};
    margin-bottom: 12px;
    line-height: 1.3;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .news-section-independent .news-article-excerpt {
    font-size: {{ section.settings.excerpt_size }}px;
    color: {{ section.settings.excerpt_color }};
    line-height: 1.5;
    margin-bottom: 16px;
    display: -webkit-box;
    -webkit-line-clamp: 4;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .news-section-independent .news-read-more {
    font-size: {{ section.settings.read_more_size }}px;
    color: {{ section.settings.read_more_color }};
    font-weight: 600;
    text-decoration: none;
  }

  .news-section-independent .news-read-more:hover {
    color: {{ section.settings.read_more_hover_color }};
  }

  .news-section-independent .news-view-all-section {
    text-align: center;
    margin-top: 48px;
    padding: 0 40px;
  }

  .news-section-independent .news-view-all-button {
    background-color: {{ section.settings.btn_bg_color }};
    color: {{ section.settings.btn_text_color }};
    padding: 16px 40px;
    border-radius: {{ section.settings.btn_radius }}px;
    font-size: {{ section.settings.btn_text_size }}px;
    font-weight: 600;
    text-decoration: none;
    display: inline-block;
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
  }

  .news-section-independent .news-view-all-button:hover {
    background-color: {{ section.settings.btn_hover_color }};
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    text-decoration: none;
    color: {{ section.settings.btn_text_color }};
  }

  @media screen and (max-width: 768px) {
    .news-section-independent {
      padding: {{ section.settings.section_padding_top_mobile }}px 0 {{ section.settings.section_padding_bottom_mobile }}px 0;
    }

    .news-section-independent .news-container {
      padding: 0;
    }

    .news-section-independent .news-header {
      padding: 0 20px;
      margin-bottom: 20px;
    }

    .news-section-independent .news-title {
      font-size: {{ section.settings.title_size | times: 0.8 }}px;
    }

    .news-section-independent .news-curvy-line-icon {
      width: {{ section.settings.curvy_line_size_mobile }}px;
      top: {{ section.settings.curvy_line_y_position_mobile }}px;
      left: {{ section.settings.curvy_line_x_position_mobile }}%;
    }

    .news-section-independent .news-articles-container {
      max-width: calc(4 * 280px + 3 * 24px); /* 1192px */
      padding: 20px 0px 40px 0px;
    }

    .news-section-independent .news-articles-track {
      gap: 24px;
    }

    .news-section-independent .news-article-card {
      flex: 0 0 280px;
      width: 280px;
      min-width: 280px;
      max-width: 280px;
    }

    .news-section-independent .news-nav-btn {
      width: 40px;
      height: 40px;
      font-size: 16px;
    }

    .news-section-independent .static-decoration {
      width: {{ section.settings.decoration_size_mobile }}px;
      top: {{ section.settings.decoration_top_mobile }}%;
      right: {{ section.settings.decoration_right_mobile }}%;
    }

    .news-section-independent .news-article-content {
      padding: 16px;
    }

    .news-section-independent .news-view-all-section {
      margin-top: 32px;
      padding: 0 20px;
    }
  }

  @media screen and (max-width: 480px) {
    .news-section-independent .news-container {
      padding: 0;
    }

    .news-section-independent .news-header {
      padding: 0 16px;
    }

    .news-section-independent .news-articles-container {
      max-width: calc(4 * 260px + 3 * 16px); /* 1088px */
      padding: 16px 0px 32px 0px;
    }

    .news-section-independent .news-articles-track {
      gap: 16px;
    }

    .news-section-independent .news-article-card {
      flex: 0 0 260px;
      width: 260px;
      min-width: 260px;
      max-width: 260px;
    }

    .news-section-independent .news-view-all-section {
      padding: 0 16px;
    }
  }
</style>

<section class="news-section-independent">
  {% if section.settings.decoration_image != blank %}
    <img
      src="{{ section.settings.decoration_image | image_url: width: 200 }}"
      alt="Decoration"
      class="static-decoration"
      width="200"
      height="200"
      loading="lazy"
    >
  {% endif %}

  <div class="news-container">
    <div class="news-header">
      {% if section.settings.title != blank %}
        <h2 class="news-title">{{ section.settings.title }}</h2>
      {% endif %}

      {% if section.settings.curvy_line_icon != blank %}
        <img
          src="{{ section.settings.curvy_line_icon | image_url: width: 400 }}"
          alt="Decorative curvy line"
          class="news-curvy-line-icon"
          width="400"
          height="100"
          loading="lazy"
        >
      {% endif %}

      {% if section.settings.description != blank %}
        <div class="news-description">{{ section.settings.description }}</div>
      {% endif %}
    </div>

    {% if section.settings.show_nav %}
      <div class="news-navigation-wrapper">
        <button class="news-nav-btn news-nav-prev" aria-label="Previous">‹</button>
        <button class="news-nav-btn news-nav-next" aria-label="Next">›</button>
      </div>
    {% endif %}

    <div class="news-articles-container" id="newsArticlesContainer">
      <div class="news-articles-track" id="newsArticlesTrack">
        {% if section.blocks.size > 0 %}
        {% for block in section.blocks %}
          {% if block.settings.news_url != blank %}
            <a href="{{ block.settings.news_url }}" 
               class="news-article-card" 
               target="_blank" 
               rel="noopener"
               data-url="{{ block.settings.news_url | escape }}"
               data-auto-fetch="{% if block.settings.news_image == blank and block.settings.news_title == blank %}true{% else %}false{% endif %}">
              
              {% if block.settings.news_image != blank %}
                <img
                  src="{{ block.settings.news_image | image_url: width: 400 }}"
                  alt="{{ block.settings.news_title | default: 'News article' }}"
                  class="news-article-image"
                  width="400"
                  height="200"
                  loading="lazy"
                >
              {% else %}
                <div class="news-article-image-placeholder" style="background-color: #f5f5f5; display: flex; align-items: center; justify-content: center; color: #999; height: 200px; font-size: 14px;">
                  Loading...
                </div>
              {% endif %}

              <div class="news-article-content">
                {% if block.settings.news_date != blank %}
                  <div class="news-article-date">
                    <svg class="news-date-icon" viewBox="0 0 24 24" fill="currentColor" width="16" height="16">
                      <path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/>
                    </svg>
                    <span class="date-text">{{ block.settings.news_date }}</span>
                  </div>
                {% else %}
                  <div class="news-article-date" style="display: none;">
                    <svg class="news-date-icon" viewBox="0 0 24 24" fill="currentColor" width="16" height="16">
                      <path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/>
                    </svg>
                    <span class="date-text"></span>
                  </div>
                {% endif %}

                <h3 class="news-article-title">
                  {{ block.settings.news_title | default: 'Loading Title...' }}
                </h3>

                {% if block.settings.news_description != blank %}
                  <p class="news-article-excerpt">{{ block.settings.news_description | truncate: 140 }}</p>
                {% else %}
                  <p class="news-article-excerpt">Loading description...</p>
                {% endif %}

                <span class="news-read-more">{{ section.settings.read_more_text | default: 'Read More' }}</span>
              </div>
            </a>
          {% endif %}
        {% endfor %}
      {% else %}
        <div style="width: 100%; text-align: center; padding: 2rem; color: #666;">
          <p><strong>No news articles added yet.</strong></p>
          <p style="font-size: 14px; margin-top: 10px;">Click "Add News Article" in the theme editor. You can just paste the URL and we'll fetch the details automatically!</p>
        </div>
      {% endif %}
      </div>
    </div>

    {% if section.settings.show_view_all and section.settings.view_all_url != blank %}
      <div class="news-view-all-section">
        <a href="{{ section.settings.view_all_url }}" class="news-view-all-button" target="_blank" rel="noopener">
          {{ section.settings.view_all_text | default: 'View All Articles' }}
        </a>
      </div>
    {% endif %}
  </div>
</section>

<script>
  // Auto-fetch article metadata from URLs
  function extractMetadata(html, url) {
    const parser = new DOMParser();
    const doc = parser.parseFromString(html, 'text/html');
    
    // Try to get Open Graph metadata first (most reliable)
    let title = doc.querySelector('meta[property="og:title"]')?.content ||
                doc.querySelector('meta[name="twitter:title"]')?.content ||
                doc.querySelector('title')?.textContent ||
                'Article';
    
    let description = doc.querySelector('meta[property="og:description"]')?.content ||
                      doc.querySelector('meta[name="twitter:description"]')?.content ||
                      doc.querySelector('meta[name="description"]')?.content ||
                      '';
    
    let image = doc.querySelector('meta[property="og:image"]')?.content ||
                doc.querySelector('meta[name="twitter:image"]')?.content ||
                doc.querySelector('link[rel="image_src"]')?.href ||
                '';
    
    // Make relative URLs absolute
    if (image && !image.startsWith('http')) {
      const urlObj = new URL(url);
      if (image.startsWith('//')) {
        image = urlObj.protocol + image;
      } else if (image.startsWith('/')) {
        image = urlObj.origin + image;
      } else {
        image = urlObj.origin + '/' + image;
      }
    }
    
    return {
      title: title.trim(),
      description: description.trim().substring(0, 150),
      image: image
    };
  }

  async function fetchArticleData(url) {
    try {
      // Using AllOrigins as CORS proxy (free service)
      const proxyUrl = `https://api.allorigins.win/get?url=${encodeURIComponent(url)}`;
      
      const response = await fetch(proxyUrl);
      const data = await response.json();
      
      if (data.contents) {
        return extractMetadata(data.contents, url);
      }
      throw new Error('Failed to fetch content');
    } catch (error) {
      console.error('Error fetching article:', url, error);
      return null;
    }
  }

  function updateArticleCard(card, data) {
    if (!data) {
      card.querySelector('.news-article-title').textContent = 'Unable to load article';
      card.querySelector('.news-article-excerpt').textContent = 'Click to view article';
      const placeholder = card.querySelector('.news-article-image-placeholder');
      if (placeholder) {
        placeholder.textContent = 'No Preview';
      }
      return;
    }
    
    // Update image
    const placeholder = card.querySelector('.news-article-image-placeholder');
    if (placeholder && data.image) {
      const img = document.createElement('img');
      img.src = data.image;
      img.alt = data.title;
      img.className = 'news-article-image';
      img.width = 400;
      img.height = 200;
      img.loading = 'lazy';
      placeholder.replaceWith(img);
    }
    
    // Update title
    const title = card.querySelector('.news-article-title');
    if (data.title && title.textContent === 'Loading Title...') {
      title.textContent = data.title;
    }
    
    // Update description
    const description = card.querySelector('.news-article-excerpt');
    if (data.description && description.textContent === 'Loading description...') {
      description.textContent = data.description + '...';
    }
  }

  document.addEventListener('DOMContentLoaded', function() {
    const track = document.querySelector('.news-articles-track');
    const container = document.getElementById('newsArticlesContainer');
    const prevBtn = document.querySelector('.news-nav-prev');
    const nextBtn = document.querySelector('.news-nav-next');
    const cards = document.querySelectorAll('.news-article-card');

    if (!track || !cards.length) return;

    let currentIndex = 0;
    let isDragging = false;
    let startX = 0;
    let currentTranslateX = 0;
    let dragStartX = 0;
    let dragStartTime = 0;

    const dragThreshold = 50;
    const velocityThreshold = 0.5;

    function updateCarousel(animate = true) {
      if (animate && !isDragging) {
        track.style.transition = 'transform 0.5s ease';
      } else {
        track.style.transition = 'none';
      }

      // Get actual card width dynamically
      const firstCard = cards[0];
      const cardWidth = firstCard ? firstCard.offsetWidth : 320;
      const cardStyle = window.getComputedStyle(track);
      const gap = parseInt(cardStyle.gap) || 32;
      const containerWidth = container.offsetWidth;

      // Calculate total width of all cards
      const totalCardsWidth = (cards.length * cardWidth) + ((cards.length - 1) * gap);
      
      // If all cards fit, center them and disable navigation
      if (totalCardsWidth <= containerWidth) {
        track.style.justifyContent = 'center';
        track.style.transform = 'translateX(0px)';
        if (prevBtn && nextBtn) {
          prevBtn.disabled = true;
          nextBtn.disabled = true;
          prevBtn.style.opacity = '0.5';
          nextBtn.style.opacity = '0.5';
        }
        return;
      } else {
        track.style.justifyContent = 'flex-start';
      }

      // Calculate maximum scroll distance
      const maxTranslate = totalCardsWidth - containerWidth;
      const totalCardSpace = cardWidth + gap;
      
      // Calculate current translate based on index
      const currentTranslate = currentIndex * totalCardSpace;
      
      // Clamp the translation to valid range
      const translateX = -Math.min(currentTranslate, maxTranslate) + (isDragging ? currentTranslateX : 0);
      track.style.transform = 'translateX(' + translateX + 'px)';

      // Update button states
      if (prevBtn && nextBtn) {
        prevBtn.disabled = currentIndex <= 0;
        nextBtn.disabled = currentTranslate >= maxTranslate;
        prevBtn.style.opacity = currentIndex <= 0 ? '0.5' : '1';
        nextBtn.style.opacity = currentTranslate >= maxTranslate ? '0.5' : '1';
      }
    }

    function goNext() {
      const firstCard = cards[0];
      const cardWidth = firstCard ? firstCard.offsetWidth : 320;
      const cardStyle = window.getComputedStyle(track);
      const gap = parseInt(cardStyle.gap) || 32;
      const containerWidth = container.offsetWidth;
      const totalCardSpace = cardWidth + gap;
      const totalCardsWidth = (cards.length * cardWidth) + ((cards.length - 1) * gap);
      const maxTranslate = totalCardsWidth - containerWidth;
      const currentTranslate = currentIndex * totalCardSpace;

      if (currentTranslate < maxTranslate) {
        currentIndex++;
        updateCarousel();
      }
    }

    function goPrev() {
      if (currentIndex > 0) {
        currentIndex--;
        updateCarousel();
      }
    }

    function handleDragStart(clientX) {
      isDragging = true;
      dragStartX = clientX;
      dragStartTime = Date.now();
      track.classList.add('dragging');
    }

    function handleDragMove(clientX) {
      if (!isDragging) return;
      const deltaX = clientX - dragStartX;
      currentTranslateX = deltaX;
      updateCarousel(false);
    }

    function handleDragEnd(clientX) {
      if (!isDragging) return;

      isDragging = false;
      track.classList.remove('dragging');

      const deltaX = clientX - dragStartX;
      const deltaTime = Date.now() - dragStartTime;
      const velocity = Math.abs(deltaX) / deltaTime;

      const shouldNavigate = Math.abs(deltaX) > dragThreshold || velocity > velocityThreshold;

      if (shouldNavigate) {
        if (deltaX > 0) {
          goPrev();
        } else {
          goNext();
        }
      } else {
        currentTranslateX = 0;
        updateCarousel();
      }

      currentTranslateX = 0;
    }

    // Mouse events
    track.addEventListener('mousedown', function(e) {
      e.preventDefault();
      handleDragStart(e.clientX);
    });

    document.addEventListener('mousemove', function(e) {
      if (isDragging) {
        e.preventDefault();
        handleDragMove(e.clientX);
      }
    });

    document.addEventListener('mouseup', function(e) {
      if (isDragging) {
        handleDragEnd(e.clientX);
      }
    });

    // Touch events
    track.addEventListener('touchstart', function(e) {
      handleDragStart(e.touches[0].clientX);
    });

    track.addEventListener('touchmove', function(e) {
      e.preventDefault();
      handleDragMove(e.touches[0].clientX);
    });

    track.addEventListener('touchend', function(e) {
      const touch = e.changedTouches[0];
      handleDragEnd(touch.clientX);
    });

    // Button events
    if (nextBtn) nextBtn.addEventListener('click', goNext);
    if (prevBtn) prevBtn.addEventListener('click', goPrev);

    // Prevent default drag behavior on images
    track.addEventListener('dragstart', function(e) {
      e.preventDefault();
    });

    // Initialize on page load
    setTimeout(updateCarousel, 100);

    // Reset to first card on resize
    window.addEventListener('resize', function() {
      currentIndex = 0;
      currentTranslateX = 0;
      setTimeout(updateCarousel, 100);
    });

    // Auto-fetch articles that need data
    const articlesToFetch = container.querySelectorAll('.news-article-card[data-auto-fetch="true"]');
    
    articlesToFetch.forEach((card, index) => {
      const url = card.getAttribute('data-url');
      if (!url) return;
      
      // Add delay between requests to avoid rate limiting
      setTimeout(async () => {
        const data = await fetchArticleData(url);
        updateArticleCard(card, data);
      }, index * 500);
    });
  });
</script>

{% schema %}
{
  "name": "External News Articles",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Section Title",
      "default": "As Seen On"
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Description"
    },
    {
      "type": "text",
      "id": "read_more_text",
      "label": "Read More Text",
      "default": "Read More"
    },
    {
      "type": "header",
      "content": "Section Settings"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#FFFFFF"
    },
    {
      "type": "range",
      "id": "section_padding_top",
      "min": 0,
      "max": 120,
      "step": 10,
      "unit": "px",
      "label": "Top Padding",
      "default": 80
    },
    {
      "type": "range",
      "id": "section_padding_bottom",
      "min": 0,
      "max": 120,
      "step": 10,
      "unit": "px",
      "label": "Bottom Padding",
      "default": 80
    },
    {
      "type": "range",
      "id": "section_padding_top_mobile",
      "min": 0,
      "max": 100,
      "step": 10,
      "unit": "px",
      "label": "Mobile Top Padding",
      "default": 60
    },
    {
      "type": "range",
      "id": "section_padding_bottom_mobile",
      "min": 0,
      "max": 100,
      "step": 10,
      "unit": "px",
      "label": "Mobile Bottom Padding",
      "default": 60
    },
    {
      "type": "range",
      "id": "section_border_radius_top",
      "min": 0,
      "max": 50,
      "step": 2,
      "unit": "px",
      "label": "Top Border Radius",
      "default": 0
    },
    {
      "type": "range",
      "id": "section_border_radius_bottom",
      "min": 0,
      "max": 50,
      "step": 2,
      "unit": "px",
      "label": "Bottom Border Radius",
      "default": 0
    },
    {
      "type": "header",
      "content": "Curvy Line Icon"
    },
    {
      "type": "image_picker",
      "id": "curvy_line_icon",
      "label": "Curvy Line Icon"
    },
    {
      "type": "range",
      "id": "curvy_line_size",
      "min": 50,
      "max": 300,
      "step": 10,
      "unit": "px",
      "label": "Size",
      "default": 120
    },
    {
      "type": "range",
      "id": "curvy_line_y_position",
      "min": -20,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Y Position",
      "default": 45
    },
    {
      "type": "range",
      "id": "curvy_line_x_position",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "X Position",
      "default": 50
    },
    {
      "type": "range",
      "id": "curvy_line_size_mobile",
      "min": 40,
      "max": 200,
      "step": 10,
      "unit": "px",
      "label": "Mobile Size",
      "default": 100
    },
    {
      "type": "range",
      "id": "curvy_line_y_position_mobile",
      "min": -15,
      "max": 80,
      "step": 5,
      "unit": "px",
      "label": "Mobile Y Position",
      "default": 35
    },
    {
      "type": "range",
      "id": "curvy_line_x_position_mobile",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "Mobile X Position",
      "default": 50
    },
    {
      "type": "header",
      "content": "Navigation"
    },
    {
      "type": "checkbox",
      "id": "show_nav",
      "label": "Show Navigation",
      "default": true
    },
    {
      "type": "color",
      "id": "nav_color",
      "label": "Navigation Color",
      "default": "#8B4513"
    },
    {
      "type": "header",
      "content": "View All Button"
    },
    {
      "type": "checkbox",
      "id": "show_view_all",
      "label": "Show View All Button",
      "default": true
    },
    {
      "type": "text",
      "id": "view_all_text",
      "label": "Button Text",
      "default": "View All Articles"
    },
    {
      "type": "url",
      "id": "view_all_url",
      "label": "View All Button URL",
      "info": "Link to your news page or external site"
    },
    {
      "type": "header",
      "content": "Typography"
    },
    {
      "type": "range",
      "id": "title_size",
      "min": 24,
      "max": 48,
      "step": 2,
      "unit": "px",
      "label": "Title Size",
      "default": 36
    },
    {
      "type": "range",
      "id": "description_size",
      "min": 14,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Description Size",
      "default": 16
    },
    {
      "type": "range",
      "id": "article_title_size",
      "min": 16,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Article Title Size",
      "default": 18
    },
    {
      "type": "range",
      "id": "excerpt_size",
      "min": 13,
      "max": 18,
      "step": 1,
      "unit": "px",
      "label": "Excerpt Size",
      "default": 14
    },
    {
      "type": "range",
      "id": "date_size",
      "min": 12,
      "max": 16,
      "step": 1,
      "unit": "px",
      "label": "Date Size",
      "default": 13
    },
    {
      "type": "range",
      "id": "read_more_size",
      "min": 13,
      "max": 18,
      "step": 1,
      "unit": "px",
      "label": "Read More Size",
      "default": 14
    },
    {
      "type": "range",
      "id": "btn_text_size",
      "min": 14,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Button Text Size",
      "default": 16
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Title Color",
      "default": "#8B4513"
    },
    {
      "type": "color",
      "id": "description_color",
      "label": "Description Color",
      "default": "#666666"
    },
    {
      "type": "color",
      "id": "article_title_color",
      "label": "Article Title Color",
      "default": "#8B4513"
    },
    {
      "type": "color",
      "id": "excerpt_color",
      "label": "Excerpt Color",
      "default": "#666666"
    },
    {
      "type": "color",
      "id": "date_color",
      "label": "Date Color",
      "default": "#999999"
    },
    {
      "type": "color",
      "id": "read_more_color",
      "label": "Read More Color",
      "default": "#8B4513"
    },
    {
      "type": "color",
      "id": "read_more_hover_color",
      "label": "Read More Hover Color",
      "default": "#A0522D"
    },
    {
      "type": "color",
      "id": "btn_bg_color",
      "label": "Button Background",
      "default": "#8B4513"
    },
    {
      "type": "color",
      "id": "btn_text_color",
      "label": "Button Text Color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "btn_hover_color",
      "label": "Button Hover Color",
      "default": "#A0522D"
    },
    {
      "type": "header",
      "content": "Card Settings"
    },
    {
      "type": "range",
      "id": "card_radius",
      "min": 0,
      "max": 30,
      "step": 2,
      "unit": "px",
      "label": "Card Border Radius",
      "default": 16
    },
    {
      "type": "color",
      "id": "border_color",
      "label": "Card Border Color",
      "default": "#F4A460"
    },
    {
      "type": "range",
      "id": "btn_radius",
      "min": 0,
      "max": 50,
      "step": 2,
      "unit": "px",
      "label": "Button Border Radius",
      "default": 24
    },
    {
      "type": "header",
      "content": "Decoration"
    },
    {
      "type": "image_picker",
      "id": "decoration_image",
      "label": "Decoration Icon"
    },
    {
      "type": "range",
      "id": "decoration_size",
      "min": 30,
      "max": 150,
      "step": 5,
      "unit": "px",
      "label": "Desktop Size",
      "default": 80
    },
    {
      "type": "range",
      "id": "decoration_size_mobile",
      "min": 20,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Mobile Size",
      "default": 60
    },
    {
      "type": "range",
      "id": "decoration_top",
      "min": 0,
      "max": 50,
      "step": 5,
      "unit": "%",
      "label": "Desktop Top Position",
      "default": 15
    },
    {
      "type": "range",
      "id": "decoration_right",
      "min": 0,
      "max": 30,
      "step": 2,
      "unit": "%",
      "label": "Desktop Right Position",
      "default": 8
    },
    {
      "type": "range",
      "id": "decoration_top_mobile",
      "min": 0,
      "max": 50,
      "step": 5,
      "unit": "%",
      "label": "Mobile Top Position",
      "default": 10
    },
    {
      "type": "range",
      "id": "decoration_right_mobile",
      "min": 0,
      "max": 30,
      "step": 2,
      "unit": "%",
      "label": "Mobile Right Position",
      "default": 6
    }
  ],
  "blocks": [
    {
      "type": "news_article",
      "name": "News Article",
      "settings": [
        {
          "type": "url",
          "id": "news_url",
          "label": "Article URL",
          "info": "⚡ Just paste the URL! We'll auto-fetch title, image & description if left empty."
        },
        {
          "type": "header",
          "content": "Optional: Override Auto-Fetched Data"
        },
        {
          "type": "image_picker",
          "id": "news_image",
          "label": "Article Image (Optional)",
          "info": "Leave empty to auto-fetch from article"
        },
        {
          "type": "text",
          "id": "news_title",
          "label": "Article Title (Optional)",
          "info": "Leave empty to auto-fetch from article"
        },
        {
          "type": "textarea",
          "id": "news_description",
          "label": "Article Description (Optional)",
          "info": "Leave empty to auto-fetch from article"
        },
        {
          "type": "text",
          "id": "news_date",
          "label": "Publication Date (Optional)",
          "info": "e.g., Jan 15, 2024"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "External News Articles",
      "blocks": [
        {
          "type": "news_article"
        },
        {
          "type": "news_article"
        },
        {
          "type": "news_article"
        },
        {
          "type": "news_article"
        }
      ]
    }
  ]
}
{% endschema %}