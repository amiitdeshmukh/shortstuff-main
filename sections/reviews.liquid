<style>
  .reviews-section {
    background-color: {{ section.settings.background_color }};
    padding-top: {{ section.settings.padding_top }}px;
    padding-bottom: {{ section.settings.padding_bottom }}px;
    position: relative;
    overflow: hidden;
  }

  .reviews-container {
    max-width: 100%;
    margin: 0 auto;
    position: relative;
    z-index: 2;
    padding: 0 20px;
  }

  /* Header Section */
  .reviews-header {
    text-align: center;
    margin-bottom: 60px;
    padding: 0 2rem;
  }

  .reviews-title {
    font-family: 'Nunito', sans-serif;
    font-size: {{ section.settings.title_size }}px;
    font-weight: 800;
    color: {{ section.settings.title_color }};
    margin: 0 0 20px 0;
    line-height: 1.2;
  }

  .reviews-description {
    font-family: 'Source Serif 4', serif;
    font-size: {{ section.settings.description_size }}px;
    color: {{ section.settings.description_color }};
    line-height: 1.6;
    max-width: 767px;
    margin: 0 auto;
  }

  /* Navigation Section */
  .reviews-carousel-wrapper {
    display: flex;
    align-items: center;
    gap: 20px;
    max-width: 100%;
    margin: 0 auto;
    justify-content: center;
  }

  .reviews-nav-btn {
    flex-shrink: 0;
    width: 48px;
    height: 48px;
    border: none;
    background-color: {{ section.settings.nav_button_color }};
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  }

  .reviews-nav-btn:hover {
    transform: scale(1.1);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
  }

  .reviews-nav-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: scale(1);
  }

  .reviews-nav-btn svg {
    width: 24px;
    height: 24px;
  }

  .reviews-nav-btn.reviews-prev svg {
    transform: rotate(180deg) scaleY(-1);
  }

  /* Viewport */
  .reviews-viewport {
    overflow: hidden;
    flex: 1;
    max-width: 1320px;
  }

  /* Reviews Grid */
  .reviews-grid {
    display: flex;
    gap: 20px;
    transition: transform 0.5s ease;
    align-items: center;
    padding: 20px 0;
  }

  .reviews-grid.dragging {
    transition: none;
  }

  /* Review Cards */
  .review-card {
    flex: 0 0 calc((100% - 40px) / 3);
    min-width: 280px;
    max-width: 440px;
    width: 100%;
    height: 320px;
    background-color: #FFFFFF;
    border: 1px solid {{ section.settings.card_border_color }};
    border-radius: 10px;
    padding: 16px 18px;
    display: flex;
    flex-direction: column;
    gap: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    align-self: center;
  }

  .review-card:nth-child(even) {
    margin-top: -10px;
  }

  .review-card:nth-child(odd) {
    margin-bottom: 10px;
  }

  .review-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
  }

  /* Card Content */
  .review-content {
    display: flex;
    flex-direction: column;
    gap: 8px;
    align-items: center;
    flex: 1;
  }

  .review-header {
    display: flex;
    flex-direction: column;
    gap: 8px;
    align-items: center;
    width: 100%;
  }

  /* Star Rating */
  .review-stars {
    display: flex;
    gap: 5px;
    justify-content: center;
  }

  .review-star {
    width: 24px;
    height: 24px;
  }

  .review-title {
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
    font-size: 18px;
    font-weight: 500;
    line-height: 26px;
    color: {{ section.settings.review_title_color }};
    margin: 0;
    text-transform: capitalize;
    text-align: center;
  }

  /* Review Text */
  .review-body {
    display: flex;
    flex-direction: column;
    gap: 0;
    align-items: center;
    width: 100%;
    flex: 1;
    justify-content: center;
  }

  .review-text {
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
    font-size: 16px;
    font-weight: 400;
    line-height: 24px;
    color: {{ section.settings.review_text_color }};
    margin: 0;
    text-align: center;
    width: 100%;
    max-height: 120px;
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 5;
    -webkit-box-orient: vertical;
    text-overflow: ellipsis;
  }

  .review-divider {
    width: 100%;
    height: 1px;
    background-color: {{ section.settings.card_border_color }};
  }

  /* Reviewer Info */
  .reviewer-info {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0;
    padding-top: 8px;
    margin-top: auto;
    border-top: 1px solid {{ section.settings.card_border_color }};
    width: 100%;
  }

  .reviewer-name {
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
    font-size: 14px;
    font-weight: 500;
    line-height: 26px;
    color: {{ section.settings.review_title_color }};
    margin: 0;
    text-transform: capitalize;
  }

  .review-date {
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
    font-size: 14px;
    font-weight: 400;
    line-height: 26px;
    color: {{ section.settings.review_text_color }};
    margin: 0;
    text-align: center;
  }

  /* Mobile Responsive */
  @media screen and (max-width: 768px) {
    .reviews-section {
      padding-top: {{ section.settings.padding_top_mobile }}px;
      padding-bottom: {{ section.settings.padding_bottom_mobile }}px;
    }

    .reviews-container {
      padding: 0 10px;
    }

    .reviews-header {
      margin-bottom: 40px;
      padding: 0 1rem;
    }

    .reviews-title {
      font-size: {{ section.settings.title_size | times: 0.7 }}px;
    }

    .reviews-description {
      font-size: {{ section.settings.description_size | times: 0.9 }}px;
    }

    .reviews-carousel-wrapper {
      gap: 10px;
    }

    .reviews-viewport {
      max-width: 100%;
    }

    .reviews-grid {
      padding: 20px 0;
    }

    .reviews-nav-btn {
      width: 40px;
      height: 40px;
    }

    .reviews-nav-btn svg {
      width: 20px;
      height: 20px;
    }

    .reviews-grid {
      gap: 16px;
    }

    .review-card {
      flex: 0 0 100%;
      min-width: auto;
      max-width: 100%;
      height: 280px;
      padding: 12px 14px;
      margin-top: 0 !important;
      margin-bottom: 0 !important;
      gap: 6px;
    }

    .review-content {
      gap: 6px;
    }

    .review-header {
      gap: 5px;
    }

    .review-body {
      gap: 0;
    }

    .reviewer-info {
      padding-top: 8px;
    }

    .review-title {
      font-size: 15px;
      line-height: 20px;
    }

    .review-text {
      font-size: 13px;
      line-height: 19px;
      max-height: 95px;
      -webkit-line-clamp: 5;
    }

    .reviewer-name,
    .review-date {
      font-size: 12px;
      line-height: 18px;
    }

    .review-star {
      width: 18px;
      height: 18px;
    }

    .review-stars {
      gap: 4px;
    }
  }

  /* Tablet */
  @media screen and (min-width: 769px) and (max-width: 1024px) {
    .reviews-carousel-wrapper {
      gap: 15px;
    }

    .reviews-viewport {
      max-width: 900px;
    }

    .review-card {
      flex: 0 0 calc(50% - 10px);
      min-width: 300px;
      max-width: 420px;
    }
  }

  /* Medium screens - show 2.5 cards to hint at more */
  @media screen and (min-width: 1025px) and (max-width: 1199px) {
    .reviews-viewport {
      max-width: 1000px;
    }

    .review-card {
      flex: 0 0 calc(40% - 10px);
      min-width: 320px;
      max-width: 400px;
    }
  }

  /* Large Desktop - optimal 3 card view */
  @media screen and (min-width: 1200px) {
    .reviews-viewport {
      max-width: 1320px;
    }

    .reviews-carousel-wrapper {
      max-width: 1440px;
      padding: 0 20px;
    }

    .review-card {
      flex: 0 0 calc(33.333% - 14px);
      max-width: 420px;
      min-width: 350px;
    }
  }

  /* Extra Large Desktop - show full 440px cards */
  @media screen and (min-width: 1500px) {
    .reviews-viewport {
      max-width: 1400px;
    }

    .review-card {
      flex: 0 0 calc(33.333% - 14px);
      max-width: 440px;
    }
  }
</style>

<section class="reviews-section">
  <div class="reviews-container">
    <!-- Section Header -->
    <div class="reviews-header">
      {% if section.settings.title != blank %}
        <h2 class="reviews-title">{{ section.settings.title }}</h2>
      {% endif %}

      {% if section.settings.description != blank %}
        <p class="reviews-description">{{ section.settings.description }}</p>
      {% endif %}
    </div>

    <!-- Carousel Wrapper with Navigation -->
    <div class="reviews-carousel-wrapper">
      <!-- Left Navigation Arrow -->
      <button class="reviews-nav-btn reviews-prev" aria-label="Previous reviews">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M8 4L16 12L8 20" stroke="{{ section.settings.nav_arrow_color }}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>

      <!-- Reviews Container -->
      <div class="reviews-viewport">
        <div class="reviews-grid" id="reviewsGrid">
          {% if section.blocks.size > 0 %}
            {% for block in section.blocks %}
              <div class="review-card" {{ block.shopify_attributes }}>
                <div class="review-content">
                  <!-- Review Header -->
                  <div class="review-header">
                    <!-- Star Rating -->
                    <div class="review-stars">
                      {% assign rating = block.settings.rating | default: 5 %}
                      {% for i in (1..rating) %}
                        <svg class="review-star" viewBox="0 0 24 24" fill="{{ section.settings.star_color }}" xmlns="http://www.w3.org/2000/svg">
                          <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"/>
                        </svg>
                      {% endfor %}
                    </div>
                    
                    <!-- Review Title -->
                    {% if block.settings.review_title != blank %}
                      <h3 class="review-title">{{ block.settings.review_title }}</h3>
                    {% endif %}
                  </div>

                  <!-- Review Body -->
                  <div class="review-body">
                    {% if block.settings.review_text != blank %}
                      <p class="review-text">{{ block.settings.review_text }}</p>
                    {% endif %}
                  </div>
                </div>

                <!-- Reviewer Info -->
                <div class="reviewer-info">
                  {% if block.settings.reviewer_name != blank %}
                    <p class="reviewer-name">{{ block.settings.reviewer_name }}</p>
                  {% endif %}
                  {% if block.settings.review_date != blank %}
                    <p class="review-date">{{ block.settings.review_date }}</p>
                  {% endif %}
                </div>
              </div>
            {% endfor %}
          {% else %}
            <!-- Placeholder Reviews -->
            {% for i in (1..3) %}
              <div class="review-card">
                <div class="review-content">
                  <div class="review-header">
                    <div class="review-stars">
                      {% for j in (1..4) %}
                        <svg class="review-star" viewBox="0 0 24 24" fill="{{ section.settings.star_color }}" xmlns="http://www.w3.org/2000/svg">
                          <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"/>
                        </svg>
                      {% endfor %}
                    </div>
                    <h3 class="review-title">Softest Fabric!</h3>
                  </div>
                  <div class="review-body">
                    <p class="review-text">Soft, gentle, and safe giving me complete peace of mind after every time he wears it.</p>
                  </div>
                </div>
                <div class="reviewer-info">
                  <p class="reviewer-name">Christina Thomas</p>
                  <p class="review-date">10/12/25</p>
                </div>
              </div>
            {% endfor %}
          {% endif %}
        </div>
      </div>

      <!-- Right Navigation Arrow -->
      <button class="reviews-nav-btn reviews-next" aria-label="Next reviews">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M8 4L16 12L8 20" stroke="{{ section.settings.nav_arrow_color }}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const grid = document.getElementById('reviewsGrid');
    const prevBtn = document.querySelector('.reviews-prev');
    const nextBtn = document.querySelector('.reviews-next');
    const cards = grid.querySelectorAll('.review-card');
    const viewport = grid.parentElement;

    if (!grid || !prevBtn || !nextBtn || cards.length === 0) return;

    let currentIndex = 0;
    let isDragging = false;
    let startX = 0;
    let currentTranslateX = 0;
    let dragStartX = 0;

    function updateCarousel(animate = true) {
      if (animate && !isDragging) {
        grid.style.transition = 'transform 0.5s ease';
      } else {
        grid.style.transition = 'none';
      }

      const cardWidth = cards[0].offsetWidth;
      const gap = parseInt(window.getComputedStyle(grid).gap);
      const totalCardSpace = cardWidth + gap;
      
      // Calculate total width
      const totalGridWidth = (cards.length * cardWidth) + ((cards.length - 1) * gap);
      const maxTranslate = Math.max(0, totalGridWidth - viewport.clientWidth);

      // Calculate translation
      let translateX = -(currentIndex * totalCardSpace) + currentTranslateX;
      translateX = Math.max(-maxTranslate, Math.min(0, translateX));

      grid.style.transform = `translateX(${translateX}px)`;

      // Update button states
      prevBtn.disabled = translateX >= 0;
      nextBtn.disabled = translateX <= -maxTranslate;
    }

    function goNext() {
      const cardWidth = cards[0].offsetWidth;
      const gap = parseInt(window.getComputedStyle(grid).gap);
      const totalCardSpace = cardWidth + gap;
      const totalGridWidth = (cards.length * cardWidth) + ((cards.length - 1) * gap);
      const maxTranslate = Math.max(0, totalGridWidth - viewport.clientWidth);
      
      // Get current position
      const currentTransform = grid.style.transform || 'translateX(0px)';
      const currentTranslate = Math.abs(parseFloat(currentTransform.replace('translateX(', '').replace('px)', '')) || 0);

      if (currentTranslate < maxTranslate - 10) {
        currentIndex = Math.min(currentIndex + 1, cards.length - 1);
        updateCarousel();
      }
    }

    function goPrev() {
      if (currentIndex > 0) {
        currentIndex--;
        updateCarousel();
      }
    }

    function handleDragStart(clientX) {
      isDragging = true;
      dragStartX = clientX;
      grid.classList.add('dragging');
      const currentTransform = grid.style.transform || 'translateX(0px)';
      startX = parseFloat(currentTransform.replace('translateX(', '').replace('px)', '')) || 0;
    }

    function handleDragMove(clientX) {
      if (!isDragging) return;
      const deltaX = clientX - dragStartX;
      currentTranslateX = deltaX;
      
      const cardWidth = cards[0].offsetWidth;
      const gap = parseInt(window.getComputedStyle(grid).gap);
      const totalGridWidth = (cards.length * cardWidth) + ((cards.length - 1) * gap);
      const maxTranslate = Math.max(0, totalGridWidth - viewport.clientWidth);
      
      let newTranslate = startX + deltaX;
      
      // Elastic resistance at boundaries
      if (newTranslate > 0) {
        newTranslate = Math.sqrt(newTranslate) * 5;
      } else if (newTranslate < -maxTranslate) {
        newTranslate = -maxTranslate - Math.sqrt(Math.abs(newTranslate + maxTranslate)) * 5;
      }
      
      grid.style.transform = `translateX(${newTranslate}px)`;
    }

    function handleDragEnd(clientX) {
      if (!isDragging) return;
      isDragging = false;
      grid.classList.remove('dragging');

      const deltaX = clientX - dragStartX;
      const cardWidth = cards[0].offsetWidth;
      const gap = parseInt(window.getComputedStyle(grid).gap);
      const totalCardSpace = cardWidth + gap;

      // Snap to nearest card
      const movedBy = Math.round(deltaX / totalCardSpace);
      currentIndex = Math.max(0, Math.min(cards.length - 1, currentIndex - movedBy));
      
      currentTranslateX = 0;
      updateCarousel();
    }

    // Mouse events
    grid.addEventListener('mousedown', (e) => { 
      e.preventDefault(); 
      handleDragStart(e.clientX); 
    });
    document.addEventListener('mousemove', (e) => { 
      if (isDragging) {
        e.preventDefault();
        handleDragMove(e.clientX); 
      }
    });
    document.addEventListener('mouseup', (e) => { 
      if (isDragging) handleDragEnd(e.clientX); 
    });

    // Touch events
    grid.addEventListener('touchstart', (e) => {
      handleDragStart(e.touches[0].clientX);
    }, { passive: true });
    grid.addEventListener('touchmove', (e) => {
      if (isDragging) {
        handleDragMove(e.touches[0].clientX);
      }
    }, { passive: true });
    grid.addEventListener('touchend', (e) => {
      handleDragEnd(e.changedTouches[0].clientX);
    }, { passive: true });

    // Button events
    prevBtn.addEventListener('click', goPrev);
    nextBtn.addEventListener('click', goNext);

    // Initial setup
    setTimeout(updateCarousel, 100);
    window.addEventListener('resize', () => setTimeout(updateCarousel, 100));
  });
</script>

{% schema %}
{
  "name": "Customer Reviews",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "header",
      "content": "Section Padding"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 200,
      "step": 10,
      "unit": "px",
      "label": "Desktop Padding Top",
      "default": 80
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 200,
      "step": 10,
      "unit": "px",
      "label": "Desktop Padding Bottom",
      "default": 80
    },
    {
      "type": "range",
      "id": "padding_top_mobile",
      "min": 0,
      "max": 150,
      "step": 5,
      "unit": "px",
      "label": "Mobile Padding Top",
      "default": 50
    },
    {
      "type": "range",
      "id": "padding_bottom_mobile",
      "min": 0,
      "max": 150,
      "step": 5,
      "unit": "px",
      "label": "Mobile Padding Bottom",
      "default": 50
    },
    {
      "type": "header",
      "content": "Section Settings"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#FFFFFF"
    },
    {
      "type": "header",
      "content": "Header Content"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Section Title",
      "default": "Stitched with Love: Real Parent Reviews"
    },
    {
      "type": "range",
      "id": "title_size",
      "min": 24,
      "max": 60,
      "step": 2,
      "unit": "px",
      "label": "Title Font Size",
      "default": 40
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Title Color",
      "default": "#682809"
    },
    {
      "type": "text",
      "id": "description",
      "label": "Section Description",
      "default": "Hear it from our Short Stuff fam!!"
    },
    {
      "type": "range",
      "id": "description_size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Description Font Size",
      "default": 16
    },
    {
      "type": "color",
      "id": "description_color",
      "label": "Description Color",
      "default": "#1A1A1A"
    },
    {
      "type": "header",
      "content": "Card Styling"
    },
    {
      "type": "color",
      "id": "card_border_color",
      "label": "Card Border Color",
      "default": "#FAD4C2"
    },
    {
      "type": "color",
      "id": "star_color",
      "label": "Star Rating Color",
      "default": "#FFA500"
    },
    {
      "type": "color",
      "id": "review_title_color",
      "label": "Review Title Color",
      "default": "#682809"
    },
    {
      "type": "color",
      "id": "review_text_color",
      "label": "Review Text Color",
      "default": "#1A1A1A"
    },
    {
      "type": "header",
      "content": "Navigation Buttons"
    },
    {
      "type": "color",
      "id": "nav_button_color",
      "label": "Navigation Button Background",
      "default": "#FFA500"
    },
    {
      "type": "color",
      "id": "nav_arrow_color",
      "label": "Navigation Arrow Color",
      "default": "#FFFFFF"
    }
  ],
  "blocks": [
    {
      "type": "review",
      "name": "Review Card",
      "settings": [
        {
          "type": "range",
          "id": "rating",
          "min": 1,
          "max": 5,
          "step": 1,
          "label": "Star Rating",
          "default": 4
        },
        {
          "type": "text",
          "id": "review_title",
          "label": "Review Title",
          "default": "Softest Fabric!",
          "info": "Short headline for the review"
        },
        {
          "type": "textarea",
          "id": "review_text",
          "label": "Review Text",
          "default": "Soft, gentle, and safe giving me complete peace of mind after every time he wears it.",
          "info": "Main review content"
        },
        {
          "type": "text",
          "id": "reviewer_name",
          "label": "Reviewer Name",
          "default": "Christina Thomas"
        },
        {
          "type": "text",
          "id": "review_date",
          "label": "Review Date",
          "default": "10/12/25",
          "info": "Format: DD/MM/YY"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Customer Reviews",
      "blocks": [
        {
          "type": "review",
          "settings": {
            "rating": 5,
            "review_title": "The Softest Clothes",
            "review_text": "These were the Softest zippys that I bought for my daughter. Durable and such a unique colour. Don't forget the lovely storybook that I was able to read to my daughter with it. Very unique!",
            "reviewer_name": "Stephen",
            "review_date": "18/01/25"
          }
        },
        {
          "type": "review",
          "settings": {
            "rating": 5,
            "review_title": "So Cozy!",
            "review_text": "My daughter loves these! So cozy and comfy and adorable. The sticker and book are an extra special sweet touch.",
            "reviewer_name": "Lani",
            "review_date": "22/02/25"
          }
        },
        {
          "type": "review",
          "settings": {
            "rating": 5,
            "review_title": "High Quality",
            "review_text": "Such beautiful quality pajamas. The stretch and the fabric is soft and breathable perfect for any season.",
            "reviewer_name": "Jessica",
            "review_date": "27/02/25"
          }
        },
        {
          "type": "review",
          "settings": {
            "rating": 5,
            "review_title": "Amazing Quality!!",
            "review_text": "I love this onesie! The color is super vibrant and the fabric is so soft and stretchy. It came with the cutest book that my daughter has not put down!!",
            "reviewer_name": "Arielle Venne",
            "review_date": "28/02/25"
          }
        },
        {
          "type": "review",
          "settings": {
            "rating": 5,
            "review_title": "The Best!",
            "review_text": "Amazing quality, cute and accessible patterns, great price point, super soft, and the extras are a nice touch!! Awesome customer service, too. Can not go wrong!!",
            "reviewer_name": "Martin",
            "review_date": "09/03/25"
          }
        },
        {
          "type": "review",
          "settings": {
            "rating": 5,
            "review_title": "Love the Book!",
            "review_text": "My daughter was excited to see a little book that came with it. I love that the pajamas are comfy and the perfect material so my daughter doesn't get over heated.",
            "reviewer_name": "Rachel",
            "review_date": "10/03/25"
          }
        },
        {
          "type": "review",
          "settings": {
            "rating": 5,
            "review_title": "The Snuggliest!",
            "review_text": "The perfect outfit for bedtime or daytime. You can tell from the moment you hold it that it is made from materials of very high quality. Highly recommend!",
            "reviewer_name": "Karan Bhandarkar",
            "review_date": "22/03/25"
          }
        },
        {
          "type": "review",
          "settings": {
            "rating": 5,
            "review_title": "Buttery Soft",
            "review_text": "The fire orange is sooo pretty! Love this bamboo company! Can't wait to see more prints release!",
            "reviewer_name": "Sarah Taber",
            "review_date": "08/04/25"
          }
        }
      ]
    }
  ]
}
{% endschema %}